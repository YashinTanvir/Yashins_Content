{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import profilePic from'../assets/profile.png';import checkIcon from'../assets/check.png';import backIcon from'../assets/back.png';import'./ProfileEditPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileEditPage=()=>{const navigate=useNavigate();const[username,setUsername]=useState('');const[name,setName]=useState('');const[phone,setPhone]=useState('');const[bio,setBio]=useState('');const[theme,setTheme]=useState(localStorage.getItem('theme')||'light');useEffect(()=>{const activeUser=localStorage.getItem('activeUser');if(activeUser){setUsername(activeUser);const users=JSON.parse(localStorage.getItem('users'))||{};if(users[activeUser]){setName(activeUser);// Setting the name to be the username by default\nsetPhone(users[activeUser].phone||'');setBio(users[activeUser].bio||'');}}},[]);useEffect(()=>{document.body.className=theme;localStorage.setItem('theme',theme);},[theme]);const handleSave=()=>{const users=JSON.parse(localStorage.getItem('users'))||{};if(username&&users[username]){users[username]={...users[username],phone,bio};localStorage.setItem('users',JSON.stringify(users));alert('Profile updated successfully!');navigate('/chats');}};const handleThemeChange=()=>{setTheme(theme==='light'?'dark':'light');};const handleLogout=()=>{localStorage.removeItem('activeUser');// Clear the active user\nnavigate('/auth');// Navigate to the AuthPage\n};return/*#__PURE__*/_jsxs(\"div\",{className:`profile-edit-container ${theme}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"img\",{src:backIcon,alt:\"Back\",className:\"back-icon\",onClick:()=>navigate('/chats')}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"img\",{src:checkIcon,alt:\"Save\",className:\"check-icon\",onClick:handleSave})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-pic-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:profilePic,alt:\"Profile\",className:\"profile-pic\"}),/*#__PURE__*/_jsx(\"div\",{className:\"camera-icon\",children:\"\\uD83D\\uDCF7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Username...\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,readOnly:true// Making the username field read-only\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Change Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:e=>setPhone(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Biography\"}),/*#__PURE__*/_jsx(\"textarea\",{value:bio,onChange:e=>setBio(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"theme-toggle\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleThemeChange,children:theme==='light'?'Switch to Dark Theme':'Switch to Light Theme'})}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})})]});};export default ProfileEditPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","profilePic","checkIcon","backIcon","jsx","_jsx","jsxs","_jsxs","ProfileEditPage","navigate","username","setUsername","name","setName","phone","setPhone","bio","setBio","theme","setTheme","localStorage","getItem","activeUser","users","JSON","parse","document","body","className","setItem","handleSave","stringify","alert","handleThemeChange","handleLogout","removeItem","children","src","alt","onClick","type","placeholder","value","onChange","e","target","readOnly"],"sources":["/Users/tanvirrahman/Desktop/chat-app/src/components/ProfileEditPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport profilePic from '../assets/profile.png';\nimport checkIcon from '../assets/check.png';\nimport backIcon from '../assets/back.png';\nimport './ProfileEditPage.css';\n\nconst ProfileEditPage = () => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [bio, setBio] = useState('');\n  const [theme, setTheme] = useState(localStorage.getItem('theme') || 'light');\n\n  useEffect(() => {\n    const activeUser = localStorage.getItem('activeUser');\n    if (activeUser) {\n      setUsername(activeUser);\n      const users = JSON.parse(localStorage.getItem('users')) || {};\n      if (users[activeUser]) {\n        setName(activeUser); // Setting the name to be the username by default\n        setPhone(users[activeUser].phone || '');\n        setBio(users[activeUser].bio || '');\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    document.body.className = theme;\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  const handleSave = () => {\n    const users = JSON.parse(localStorage.getItem('users')) || {};\n    if (username && users[username]) {\n      users[username] = { ...users[username], phone, bio };\n      localStorage.setItem('users', JSON.stringify(users));\n      alert('Profile updated successfully!');\n      navigate('/chats');\n    }\n  };\n\n  const handleThemeChange = () => {\n    setTheme(theme === 'light' ? 'dark' : 'light');\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('activeUser'); // Clear the active user\n    navigate('/auth'); // Navigate to the AuthPage\n  };\n\n  return (\n    <div className={`profile-edit-container ${theme}`}>\n      <div className=\"top-bar\">\n        <img src={backIcon} alt=\"Back\" className=\"back-icon\" onClick={() => navigate('/chats')} />\n        <h2>Edit Profile</h2>\n        <img src={checkIcon} alt=\"Save\" className=\"check-icon\" onClick={handleSave} />\n      </div>\n      <div className=\"profile-pic-container\">\n        <img src={profilePic} alt=\"Profile\" className=\"profile-pic\" />\n        <div className=\"camera-icon\">ðŸ“·</div>\n      </div>\n      <div className=\"input-container\">\n        <label>Name</label>\n        <input \n          type=\"text\" \n          placeholder=\"Your Username...\" \n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n      </div>\n      <div className=\"input-container\">\n        <label>User Name</label>\n        <input \n          type=\"text\" \n          value={username}\n          readOnly // Making the username field read-only\n        />\n      </div>\n      <div className=\"input-container\">\n        <label>Change Number</label>\n        <input \n          type=\"text\" \n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n        />\n      </div>\n      <div className=\"input-container\">\n        <label>Biography</label>\n        <textarea \n          value={bio}\n          onChange={(e) => setBio(e.target.value)}\n        />\n      </div>\n      <div className=\"theme-toggle\">\n        <button onClick={handleThemeChange}>\n          {theme === 'light' ? 'Switch to Dark Theme' : 'Switch to Light Theme'}\n        </button>\n      </div>\n      <div className=\"logout-container\">\n        <button onClick={handleLogout} className=\"logout-button\">\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEditPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}